// ==UserScript==
// @name         Tokopedia Pretty Label Print
// @author       Celleven Store
// @namespace    http://www.tokopedia.com/celleven
// @version      1.3
// @description  Tidak suka tampilan label print Tokopedia yang baru? Tulisannya kekecilan? Plugin ini akan membantu kamu.
// @match        https://www.tokopedia.com/print-address.pl*
// @match        https://tokopedia.com/print-address.pl*
// @match        http://www.tokopedia.com/print-address.pl*
// @match        http://tokopedia.com/print-address.pl*
// @require      https://code.jquery.com/jquery-3.3.1.min.js
// ==/UserScript==

//***************** PENGATURAN *************************************//
//
// @logokamu      adalah logo toko jika kamu ingin cantumkan logo
//                isikan url image kamu, bisa upload ke image hosting
//                logo recommended size: 115x25 px
//
// @logoekspedisi adalah menampilkan logo ekspedisi
//                isikan 1 jika ingin menampilkan atau 0 jika tidak
//
// @invoice       adalah menampilkan nomor invoice
//                isikan 1 jika ingin menampilkan atau 0 jika tidak
//
// @fontsize      adalah ukuran font untuk alamat, pengirim
//                dan kode JOB
//
//******************************************************************//

var logokamu = '';
var logoekspedisi = 0;
var invoice = 0;
var fontsize = '15px';

//*****************************************************************//

(function() {
    'use strict';

    var jumlah_table = $('table tbody tr td').find('table').length;
    var increment = 0;
    if (jumlah_table == 12) increment = 1;
    else if (jumlah_table == 10) increment = 1;

    function edit()
    {
        if (logokamu == '') $('table tbody tr td table:first-child tbody tr td img').hide();
        else $('table tbody tr td table:first-child tbody tr td img').attr('src', logokamu);

        if (logoekspedisi == 1) {}
        else
        {
            $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td img').hide();
            $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:first-child').html(
                $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:nth-child(2) div:first-child').html() + ' ' +
                $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:nth-child(2) div:nth-child(2)').html()
            );

            $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:nth-child(2)').remove();

            $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:first-child').css({
                'font-weight': 'bold',
                'color'      : 'blue',
                'font-size'  : '25px',
                'text-align' : 'center',
            });

            if (invoice != 1)
            {
                $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:nth-child(2)').remove();
            }
        }

        if (invoice == 1) {}
        else $('table tbody tr td table:nth-child('+ (3-increment) +') tbody tr td:nth-child(3)').hide();

        if (jumlah_table == 10)
        {
            $('table tbody tr td table:nth-child(4) tbody tr:nth-child(2)').prependTo('table tbody tr td table:nth-child(4) tbody');
            $('table tbody tr td table:nth-child(4) tbody tr:nth-child(2)').hide();
            $('table tbody tr td table:nth-child(4) tbody tr td div').css('font-size', fontsize);
        }
        else
        {
            $('table tbody tr td table:nth-child(5) tbody tr:nth-child(2)').prependTo('table tbody tr td table:nth-child(5) tbody');
            $('table tbody tr td table:nth-child(5) tbody tr:nth-child(2)').hide();
            $('table tbody tr td table:nth-child(5) tbody tr td div').css('font-size', fontsize);
        }

        $('table tbody tr td table:nth-child('+ (2-increment) +') tbody tr td span').css('font-size', fontsize);

    }

    edit();
})();